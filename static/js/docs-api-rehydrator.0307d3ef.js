(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"./docs/api/rehydrator.mdx":function(e,n,a){"use strict";a.r(n);var t=a("./node_modules/react/index.js"),r=a.n(t),o=a("./node_modules/@mdx-js/tag/dist/index.js");function m(e,n){if(null==e)return{};var a,t,r=function(e,n){if(null==e)return{};var a,t,r={},o=Object.keys(e);for(t=0;t<o.length;t++)a=o[t],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)a=o[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}n.default=function(e){var n=e.components;m(e,["components"]);return r.a.createElement(o.MDXTag,{name:"wrapper",components:n},r.a.createElement(o.MDXTag,{name:"h1",components:n,props:{id:"rehydrator-interface"}},"Rehydrator Interface"),r.a.createElement(o.MDXTag,{name:"pre",components:n},r.a.createElement(o.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-javascript"}},"async (domNode, rehydrateChildren, extra) => <Element />\n")),r.a.createElement(o.MDXTag,{name:"p",components:n},"Your rehydrators should be written to this API."),r.a.createElement(o.MDXTag,{name:"h2",components:n,props:{id:"contract"}},"Contract"),r.a.createElement(o.MDXTag,{name:"p",components:n},"Given ",r.a.createElement(o.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"domNode"),", a rehydrator will return an equivalent React element."),r.a.createElement(o.MDXTag,{name:"h2",components:n,props:{id:"parameters"}},"Parameters"),r.a.createElement(o.MDXTag,{name:"ul",components:n},r.a.createElement(o.MDXTag,{name:"li",components:n,parentName:"ul"},r.a.createElement(o.MDXTag,{name:"inlineCode",components:n,parentName:"li"},"domNode"),": an element that has matched this rehydrator."),r.a.createElement(o.MDXTag,{name:"li",components:n,parentName:"ul"},r.a.createElement(o.MDXTag,{name:"inlineCode",components:n,parentName:"li"},"rehydrateChildren"),": a function (returning a ",r.a.createElement(o.MDXTag,{name:"inlineCode",components:n,parentName:"li"},"Promise"),") that can be used to rehydrate any child nodes that contain arbitrary markup."),r.a.createElement(o.MDXTag,{name:"li",components:n,parentName:"ul"},r.a.createElement(o.MDXTag,{name:"inlineCode",components:n,parentName:"li"},"extra"),": page state information, from ",r.a.createElement(o.MDXTag,{name:"a",components:n,parentName:"li",props:{href:"/api/rehydrate#parameters"}},r.a.createElement(o.MDXTag,{name:"inlineCode",components:n,parentName:"a"},"rehydrate()"),"'s ",r.a.createElement(o.MDXTag,{name:"inlineCode",components:n,parentName:"a"},"options")," parameter"),".")),r.a.createElement(o.MDXTag,{name:"h2",components:n,props:{id:"return-value"}},"Return value"),r.a.createElement(o.MDXTag,{name:"p",components:n},"A React element that represents ",r.a.createElement(o.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"domNode"),"."),r.a.createElement(o.MDXTag,{name:"h2",components:n,props:{id:"example-usage"}},"Example usage"),r.a.createElement(o.MDXTag,{name:"p",components:n},r.a.createElement(o.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"index.js"),":"),r.a.createElement(o.MDXTag,{name:"pre",components:n},r.a.createElement(o.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-javascript"}},'export { default } from "./SiteHeader";\nexport { default as rehydrator } from "./rehydrator";\n')),r.a.createElement(o.MDXTag,{name:"p",components:n},r.a.createElement(o.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"rehydrator.js"),":"),r.a.createElement(o.MDXTag,{name:"pre",components:n},r.a.createElement(o.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-javascript"}},'import Banner from "./Banner";\n\nexport default async (domNode, rehydrateChildren, extra) => {\n  const children = await rehydrateChildren(domNode.querySelector(".Banner-children"));\n\n  const props = {\n    open: !extra.user.hasSeenBanner,\n    title: domNode.querySelector(".Banner-title").innerText\n  }\n\n  return <Banner {...props}>{children}</Banner>;\n}\n')),r.a.createElement(o.MDXTag,{name:"p",components:n},r.a.createElement(o.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"Banner.js"),":"),r.a.createElement(o.MDXTag,{name:"pre",components:n},r.a.createElement(o.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-javascript"}},'import React from "react";\nimport PropTypes from "prop-types";\n\nclass Banner extends React.Component {\n  static propTypes = {\n    children: PropTypes.node,\n    hasBeenSeen: PropTypes.bool,\n    title: PropTypes.string\n  };\n\n  state = {\n    open: true\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    // Only show the banner if it hasn\'t been seen on previous pages, and it \n    // hasn\'t been closed on this page.\n    return {\n      open: !props.hasBeenSeen && state.open\n    };\n  }\n\n  render() {\n    const { children } = this.props;\n    const { open } = this.state;\n\n    return <div className={`Banner${open ? " is-open" : ""}`}>\n        <h1 className="Banner-title">{title}</h1>\n        <div className="Banner-children">{children}</div>\n        <button onClick={() => this.setState({ open: false })}>Close banner</button>\n      </div>;\n  }\n}\n\nexport default Banner;\n')))}}}]);